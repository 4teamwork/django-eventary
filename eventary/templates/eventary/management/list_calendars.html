{% extends 'eventary/base.html' %}

{% load eventary_tags %}
{% load i18n %}

{% block 'content' %}

<h1>{% trans 'Calendars' %}</h1>

{% if object_list|length %}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>{% trans 'Title' %}</th>
                <th>{% trans 'Actions' %}</th>
                <th>{% trans 'Groupings' %}</th>
                <th>{% trans '# Events' %}</th>
                <th>{% trans '# Proposals' %}</th>
            </tr>
        </thead>
        <tbody>
        {% for calendar in object_list %}
            <tr>
                <td>
                    <a
                     href="{% url 'eventary:anonymous-calendar_details' calendar.pk %}"
                     title="{% blocktrans with calendar_title=calendar.title %}View {{ calendar_title }}{% endblocktrans %}">
                        {{ calendar.title }}
                    </a>
                </td>
                <td>{{ calendar|actions:request.user }}</td>
                <td>{{ calendar.grouping_set.all|join:", " }}</td>
                <td>{{ calendar.num_events }}</td>
                <td>{{ calendar.num_proposals }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}

<p>{% trans "Cannot find the calendar you're looking for?" %} <a
    href="{% url 'eventary:management-create_calendar' %}"
    title="{% trans 'Add a new calendar now!' %}">{% trans 'Add a new calendar now!' %}</a></p>
{% endblock %}
